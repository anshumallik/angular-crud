<div class="container">
  <div class="row">
    <div class="col-md-8 mx-auto">
      <div class="card mt-5 bg-light mb-5">
        <div class="card-body p-4">
          <ng-container *ngIf="!isQuizCompleted">
            <div class="row">
              <div class="col-md-3">
                <img src="assets/logo.png" alt="" height="70" width="70" />
              </div>
              <div class="col-md-9 my-auto">
                <div class="float-end">
                  <h5>Angular & Typescript Quiz</h5>
                  <p>Welcome {{ name }}</p>
                </div>
              </div>
            </div>
            <div class="row pt-4">
              <div class="col-md-4">
                <h6>{{ points }} Points</h6>
              </div>
              <div class="col-md-4">
                <div class="text-center">
                  <p>
                    question {{ currentQuestion + 1 }} of
                    {{ questionList.length }}
                  </p>
                </div>
              </div>
              <div class="col-md-4">
                <div class="float-end">
                  <p>{{ counter }} sec <i class="fa-regular fa-clock"></i></p>
                </div>
              </div>
            </div>
            <div class="progress mt-3">
              <div
                class="progress-bar progress-bar-striped bg-success"
                role="progressbar"
                [ngStyle]="{ width: progress + '%' }"
                aria-valuenow="25"
                aria-valuemin="0"
                aria-valuemax="100"
              ></div>
            </div>
            <div class="question mt-4">
              <div class="card">
                <h6>{{ questionList[currentQuestion]?.questionText }}</h6>
              </div>
              <div class="answer">
                <ol>
                  <li
                    *ngFor="
                      let option of questionList[currentQuestion]?.options
                    "
                    (click)="answer(currentQuestion + 1, option)"
                  >
                    <div class="card" appChangeBg [isCorrect]="option.correct">
                      {{ option.text }}
                    </div>
                  </li>
                </ol>
              </div>
            </div>
            <div class="bbtn-section pt-3">
              <div class="card">
                <div class="d-flex justify-content-between">
                  <button
                    [disabled]="currentQuestion === 0"
                    class="btn color"
                    (click)="previousQuestion()"
                  >
                    <i class="fa-solid fa-chevron-left fa-2x"></i>
                  </button>
                  <button (click)="resetQuiz()" class="btn color">
                    <i class="fa-solid fa-rotate fa-2x"></i>
                  </button>
                  <button
                    [disabled]="currentQuestion + 1 === questionList.length"
                    class="btn color"
                    (click)="nextQuestion()"
                  >
                    <i class="fa-solid fa-chevron-right fa-2x"></i>
                  </button>
                </div>
              </div>
            </div>
          </ng-container>
          <ng-container *ngIf="isQuizCompleted">
            <div class="row d-flex justify-content-between mb-5">
              <div class="col-md-12">
                <div class="text-center">
                  <h5>
                    Contratulations!!
                    <br />you have completed the Quiz <br />Below is your
                    result:
                  </h5>
                </div>
              </div>
              <img
                src="assets/cong.webp"
                alt=""
                class="col-md-6 mx-auto img-fluid"
              />
              <div class="result col-md-6 col-sm-12 mt-4">
                <p>
                  Total Question Attempted :
                  <strong>{{ questionList.length }}</strong>
                </p>
                <p>
                  Total Correct Answer : <strong>{{ correctAnswer }}</strong>
                </p>
                <p>
                  Total Wrong Answered : <strong>{{ incorrectAnswer }}</strong>
                </p>
                <p>
                  Your Score : <strong>{{ points }} points</strong>
                </p>
              </div>
            </div>
          </ng-container>
        </div>
      </div>
    </div>
  </div>
</div>
